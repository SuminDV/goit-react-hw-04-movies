(this["webpackJsonpgoit-react-hw-01-component"]=this["webpackJsonpgoit-react-hw-01-component"]||[]).push([[0],{19:function(e,t,a){e.exports={image:"Cast_image__2XsFV",list:"Cast_list__1f769"}},33:function(e,t,a){e.exports=a(60)},60:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(30),o=a.n(r),l=a(9),i=a(2),s=a(3),u=a(5),m=a(4),p=a(6),h=a(12),v=a(14),f=a.n(v),b="https://api.themoviedb.org/3",g="4ff52a95ec89fb43a388f843c820a16f",E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"batman";return f.a.get("".concat(b,"/search/movie?api_key=").concat(g,"&language=en-US&page=1&include_adult=false&query=").concat(e))},d="/",y="/movies",O="/movies/:movieId",j="/movies/:movieId/cast",k="/movies/:movieId/reviews",w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={popular:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(b,"/trending/movie/week?api_key=").concat(g)).then((function(t){console.log(t),e.setState({popular:t.data.results})}))}},{key:"render",value:function(){var e=this.state.popular;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Trending today"),c.a.createElement("ul",null,e.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(l.b,{to:"".concat(y,"/").concat(e.id)},e.title))}))))}}]),t}(n.Component),S=a(19),_=a.n(S),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={cast:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match.params.movieId;(e=a,f.a.get("".concat(b,"/movie/").concat(e,"/credits?api_key=").concat(g))).then((function(e){console.log("Res :",e),t.setState({cast:e.data.cast})}))}},{key:"render",value:function(){var e=this.state.cast;this.props.match;return c.a.createElement("ul",null,e.map((function(e){return c.a.createElement("li",{className:_.a.list,key:e.id},c.a.createElement("img",{className:_.a.image,src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path),alt:""}),c.a.createElement("p",null,e.name),c.a.createElement("p",null,e.character))})))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={reviews:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match.params.movieId;(e=a,f.a.get("".concat(b,"/movie/").concat(e,"/reviews?api_key=").concat(g))).then((function(e){console.log("Res",e),t.setState({reviews:e.data.results})}))}},{key:"render",value:function(){var e=this.state.reviews;return c.a.createElement("ul",null,e.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement("p",null,e.author),c.a.createElement("p",null,e.content))})))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={searchFilm:{genres:[]}},a.onBackButton=function(){a.props.history.goBack()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match,n=a.params.movieId;console.log("match",a),(e=n,f.a.get("".concat(b,"/movie/").concat(e,"?api_key=").concat(g))).then((function(e){console.log("resData",e),t.setState({searchFilm:e.data})}))}},{key:"render",value:function(){var e=this.state.searchFilm,t=this.props.match.url;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("button",{onClick:this.onBackButton,type:"button"},"Go back"),c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:""}),c.a.createElement("h2",null,e.original_title," (",e.release_date,")"),c.a.createElement("p",null,"User score: ",10*e.vote_average,"%"),c.a.createElement("h3",null,"Overview"),c.a.createElement("p",null,e.overview),c.a.createElement("h3",null,"Genres"),e.genres.reduce((function(e,t){return"".concat(e," ").concat(t.name)}),""),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(l.c,{to:"".concat(t,"/cast")},"Cast")),c.a.createElement("li",null,c.a.createElement(l.c,{to:"".concat(t,"/reviews")},"Reviews"))),c.a.createElement(h.c,null,c.a.createElement(h.a,{exact:!0,path:j,component:C}),c.a.createElement(h.a,{exact:!0,path:k,component:F}))))}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={input:""},a.onChange=function(e){a.setState({input:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),(0,a.props.onSubmit)(a.state.input),a.setState({input:""})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.value;return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("input",{value:e,onChange:this.onChange,type:"text"}),c.a.createElement("button",{type:"submit"},c.a.createElement("span",null,"Search film"))))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={query:"",searchFilms:[]},a.onSubmit=function(e){var t=a.props.history;a.setState({query:e}),E(e).then((function(e){console.log("resData :",e),a.setState({searchFilms:e.data.results})})),t.push({pathname:t.pathname,search:"query=".concat(e)})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location,t=new URLSearchParams(e.search).get("query");console.log("getMovies",t),t&&this.onSubmit(t)}},{key:"render",value:function(){var e=this.state,t=(e.query,e.searchFilms);return c.a.createElement("div",null,c.a.createElement(q,{onSubmit:this.onSubmit}),c.a.createElement("ul",null,t.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(l.b,{to:"".concat(y,"/").concat(e.id)},e.title))}))))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={films:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){this.state.films;return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement(l.c,{to:d},"Home page"),c.a.createElement(l.c,{to:y}," Movies page")),c.a.createElement(h.c,null,c.a.createElement(h.a,{exact:!0,path:d,component:w}),c.a.createElement(h.a,{path:O,component:D}),c.a.createElement(h.a,{exact:!0,path:y,component:x})))}}]),t}(n.Component);o.a.render(c.a.createElement(l.a,null,c.a.createElement(A,null)),document.querySelector("#root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.de27d60d.chunk.js.map